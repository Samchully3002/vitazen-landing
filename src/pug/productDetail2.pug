doctype html
html(lang='en')

    include includes/head.pug
    body
        include includes/header.pug

        // Section contact-us form
        section.productDetail-section
            .container
                .wrapper 
                    .leftBox
                        .carousel.slide#productCarausel(data-bs-ride="false")
                            ol.carousel-indicators
                                li(data-bs-target="#productCarausel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1")
                                li(data-bs-target="#productCarausel" data-bs-slide-to="1" aria-label="Slide 2")
                                li(data-bs-target="#productCarausel" data-bs-slide-to="2" aria-label="Slide 3")
                            .carousel-inner
                                .carousel-item.active
                                    img(src="./assets/img/product2.png")
                                .carousel-item
                                    img(src="./assets/img/product2.png")
                                .carousel-item
                                    img(src="./assets/img/product2.png")
                            button.carousel-control-prev(type="button" data-bs-target="#productCarausel" data-bs-slide="next")
                                span.carousel-control-prev-icon(aria-hidden="true")
                                span.visually-hidden Preview
                            button.carousel-control-next(type="button" data-bs-target="#productCarausel" data-bs-slide="next")
                                span.carousel-control-next-icon(aria-hidden="true")
                                span.visually-hidden Next
            
                        .multiple-card-slider
                            .carousel#carouselExampleControls(data-bs-ride="false")
                                .carousel-inner
                                    .carousel-item.active
                                        img(src="./assets/img/dtProduct1.png")
                                    .carousel-item
                                        img(src="./assets/img/dtProduct2.png")
                                    .carousel-item
                                        img(src="./assets/img/dtProduct2.png")
                                    .carousel-item
                                        img(src="./assets/img/dtProduct3.png")
                                    .carousel-item
                                        img(src="./assets/img/dtProduct3.png")
                                    .carousel-item
                                        img(src="./assets/img/dtProduct1.png")
                                button.carousel-control-prev(type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev")
                                    span.carousel-control-prev-icon(aria-hidden="true")
                                    span.visually-hidden Preview
                                button.carousel-control-next(type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next")
                                    span.carousel-control-next-icon(aria-hidden="true")
                                    span.visually-hidden Next
                            
                    .rightBox 
                        .productInfo
                            span.productName Snovv Glutathione
                            .ratingWrapper
                                .starWrapper 
                                    span.fa.fa-star
                                    span.fa.fa-star
                                    span.fa.fa-star
                                    span.fa.fa-star
                                    span.fa.fa-star
                                span.totalSpan (4 Ulasan)
                            .productPrice
                                span.discountPrice ± Rp 150.000
                                span.normalPrice Rp. 250.000
                                .discountRate 
                                    span 43%
                                    
                        div(style="width:100%; align-self: stretch; height: 1px; background: #C4C4C4")
                        .shopLink 
                            span Belanja dengan
                            .btnWrapper
                                a.btnShop(href="#")
                                    img(src="./assets/img/icon/ic_shopee.png")
                                    span Shopee
                                a.btnShop(href="#")
                                    img(src="./assets/img/icon/ic_tokped.png")
                                    span Tokopedia
                        .productDetail
                            .DescWrapper
                                span.titleTextProductDetail Detail Produk
                                .infoWrapper
                                    span.boldText Merek :
                                    span.valueText About H
                                    br
                                    span.boldText Produsen :
                                    span.valueText Biofarm
                                ul.descText 
                                    li Diformulasikan oleh Dokter Kulit Korea
                                    li Formulasi GV5, Kecantikan dari dalam
                                    li 250 mg Glutathione Premium dari Korea
                                    li Mengandung Bahan Khusus untuk Kecantikan dari dalam, yang dipilih sesuai dengan standar yang tinggi
                            div(style="width:100%; align-self: stretch; height: 1px; background: #C4C4C4")
                            .accordion.accordion-flush#productInfoAccordion 
                                .accordion-item
                                    .accordion-header
                                        button.accordion-button.collapsed(type="button" data-bs-toggle="collapse" data-bs-target="#data1" aria-expanded="false" aria-controls="data1") Cara Penyajian
                                    .accordion-collapse.collapse#data1(data-bs-parent="#productInfoAccordion")
                                        .accordion-body 
                                            p Isi konten untuk cara penyajian
                                .accordion-item
                                    .accordion-header
                                        button.accordion-button.collapsed(type="button" data-bs-toggle="collapse" data-bs-target="#data2" aria-expanded="false" aria-controls="data2") Bahan
                                    .accordion-collapse.collapse#data2(data-bs-parent="#productInfoAccordion")
                                        .accordion-body Isi konten untuk bahan

        section.detailTab
            .row.justify-content-center.mt-2
                .col-md-12
                    .card.border-0.text-center
                        ul.nav.nav-tabs.nav-justified.card-header-tabs#myTab(role="tablist" style="padding-bottom: 30px;")
                            li.nav-item.active
                                a.nav-link.active#tab1-tab(data-bs-toggle="tab" href="#tab1" role="tab" aria-controls="tab1" aria-selected="true") Detail Informasi
                            li.nav-item
                                a.nav-link#tab2-tab(data-bs-toggle="tab" href="#tab2" role="tab" aria-controls="tab2" aria-selected="true") Ulasan (4)
                            li.nav-item
                                a.nav-link#tab3-tab(data-bs-toggle="tab" href="#tab3" role="tab" aria-controls="tab3" aria-selected="true") FAQ
                    .card-body
                        .tab-content#myTabContent
                            .tab-pane.fade.show.active#tab1(role="tabpanel" aria-labelledby="tab1-tab")
                                img(src="./assets/img/dtinfoProduct2.png" width="100%")
                            .tab-pane.fade#tab2(role="tabpane2" aria-labelledby="tab2-tab")
                                .reviewBox
                                    .reviewWrapper
                                        .boxReview
                                            .ratingBox
                                                .starBox
                                                    label 5.0
                                                    .starWrapper
                                                        span.fa.fa-star.checked
                                                        span.fa.fa-star.checked
                                                        span.fa.fa-star.checked
                                                        span.fa.fa-star.checked
                                                        span.fa.fa-star.checked
                                                .totalRating
                                                    .rateWrapper
                                                        label 5
                                                        span.fa.fa-star.checked
                                                        .progress(role="progressbar" aria-label="Example with label" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 265px; height: 8px;")
                                                            .progress-bar(style="width: 100%")
                                                        span.spanStar 10
                                                    .rateWrapper
                                                        label 4
                                                        span.fa.fa-star.checked
                                                        .progress(role="progressbar" aria-label="Example with label" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100" style="width: 265px; height: 8px;")
                                                            .progress-bar(style="width: 35%")
                                                        span.spanStar 5
                                                    .rateWrapper
                                                        label 3
                                                        span.fa.fa-star.checked
                                                        .progress(role="progressbar" aria-label="Example with label" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 265px; height: 8px;")
                                                            .progress-bar(style="width: 10%")
                                                        span.spanStar 2
                                                    .rateWrapper
                                                        label 2
                                                        span.fa.fa-star.checked
                                                        .progress(role="progressbar" aria-label="Example with label" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 265px; height: 8px;")
                                                            .progress-bar(style="width: 0%")
                                                        span.spanStar 0
                                                    .rateWrapper
                                                        label 1
                                                        span.fa.fa-star.checked
                                                        .progress(role="progressbar" aria-label="Example with label" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 265px; height: 8px;")
                                                            .progress-bar(style="width: 0%")
                                                        span.spanStar 0
                                            .reviewProdukSeparator
                                            .imgMedia 
                                                img(src="./assets/img/media_review.png")
                                        button.btnInput.border-0(type="button") Tulis Ulasan
                                    .filterWrapper
                                        h6 Menampilkan 1 - 4 dari 4 ulasan
                                        .dropdown
                                            span(style="padding-right:15px;") Urutkan berdasarkan
                                            a.btn.btn-outline-secondary.dropdown-toggle#filterDropdown(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false") Terbaru
                                            ul.dropdown-menu(aria-labelledby="filterDropdown")
                                                li
                                                    a.dropdown-item(href="#") Date
                                                li
                                                    a.dropdown-item(href="#") Rating
                                                li
                                                    a.dropdown-item(href="#") Media

                                    div(style="width: 100%; height: 1px; background: #E6E6E6")
                                    .contentWrapper
                                        .contentBox#dataReview1
                                        div(style="width: 100%; height: 1px; background: #E6E6E6")
                                        .contentBox#dataReview2
                                        div(style="width: 100%; height: 1px; background: #E6E6E6")
                                        .contentBox#dataReview3

                                        div(style="width: 100%; height: 1px; background: #E6E6E6")
                                        .contentBox#dataReview4
                            .tab-pane.fade#tab3(role="tabpane3" aria-labelledby="tab3-tab")
                                .faqBox
                                    .accordion.border-0#accordionExample
                                        .accordion-item
                                            h2.accordion-header
                                                button.accordion-button(type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                    aria-expanded="true" aria-controls="collapseOne") 
                                                    .spanBold Pertanyaan 1?
                                            .accordion-collapse.collapse.show#collapseOne(data-bs-parent="#accordionExample")
                                                .accordion-body
                                                    .textBody Jawaban
                                        .accordion-item
                                            h2.accordion-header
                                                button.accordion-button.collapsed(type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo")
                                                    .spanBold  Pertanyaan 2?
                                            .accordion-collapse.collapse#collapseTwo(data-bs-parent="#accordionExample")
                                                .accordion-body
                                                    .textBody Jawaban
                                        .accordion-item
                                            h2.accordion-header
                                                button.accordion-button.collapsed(type="button" data-bs-toggle="collapse"
                                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree")
                                                    .spanBold Pertanyaan 3?
                                            .accordion-collapse.collapse#collapseThree(data-bs-parent="#accordionExample")
                                                .accordion-body
                                                    .textBody Jawaban
                            .tab-pane.fade#tab4(role="tabpanel" aria-labelledby="tab4-tab")
                                .shippingBox
                                    .shippingWrapper 
                                        .titleWrapper
                                            span.text-center Exchange & Return
                                        .descWrapper 
                                            ul
                                                li If the product value is damaged by removing the product tag or opening the product, exchange or return is not possible even within 7 days of receiving the product.
                                                li For low-priced products and some special price products, the customer must pay the shipping fee for exchanges or returns due to change of mind (excluding product defects and delivery errors).
                                                li Prices for some products may change due to manufacturer circumstances such as the release of a new model or fluctuations in parts prices.
                                                li  For shoes, if they were worn outdoors or have signs of use, exchanges and returns are not possible even within the exchange/return period.
                                                li In the case of custom-made products (heel height, width of the foot, size change) among handmade products, exchanges and returns are not possible even within the exchange/return period after production is completed and received.
                                                li  Please understand that in the case of imported or luxury products, exchanges and returns are not possible if the product or its box is damaged or lost, resulting in loss of product value.
                                                li For some special price products, exchanges or returns due to simple change of mind on the part of the customer may not be possible after purchase, except in cases of product defects or incorrect delivery. Please be sure to refer to the product details for each product.
                                    div(style="align-self: stretch; height: 1px; background: #C4C4C4")
                                    .shippingWrapper 
                                        .titleWrapper
                                            span.text-center Shipping Information
                                        .descWrapper 
                                            ul
                                                li Shipping fee: The basic shipping fee is Rp 10.000. (Additional shipping fees may apply to some islands, mountainous areas, and remote areas.) Free shipping for purchases over Rp 150.000.
                                                li The average delivery date for this product is 2 days (after payment confirmation). For installation products, delivery may be slightly delayed. [The expected delivery date may differ from the average delivery date due to the fluidity of the order time (order sequence).]
                                                li This product can be delivered within 3 days. The delivery possible date refers to the period during which the product can be delivered to customers who ordered this product. (However, holidays and public holidays are excluded when calculating the period, and in the case of cash orders, it is based on the date of deposit.)                             

        .modal.fade#reviewModal(tabindex="-1" aria-labelledby="reviewModalLabel" aria-hidden="true")
            .modal-dialog.modal-lg
                .modal-content
                    .modal-header
                        h5.modal-title#reviewModalLabel Add A Review “Snowv Glutathione”
                        button(type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close")
                    .modal-body
                        .star-rating
                            d-flex.align-items-center
                                div(data-coreui-toggle="rating")
                                    div#myRatingResettable(data-coreui-toggle="rating" data-coreui-value="3")
                                    button.btn.btn-primary.ms-3(type="button" onclick="coreui.Rating.getInstance('#myRatingResettable').reset()") Reset
                        form
                            .mb-3
                                input(type="text" class="form-control" placeholder="Order Number")
                            .row.mb-3
                                .col
                                    input(type="text" class="form-control" placeholder="Name")
                                .col
                                    input(type="email" class="form-control" placeholder="Email")
                            .mb-3
                                textarea.form-control(rows="3" placeholder="Write your review here")

                            .upload-section
                                span Upload videos (0/3)
                                input.form-control(type="file" multiple)
                                small Max size: 1024kb, max 3 files
                            .upload-section
                                span Upload photos (0/3)
                                input.form-control(type="file" multiple)
                                small Max size: 100kb, max 3 files
                    .modal-footer
                        button.btn.btn-primary(type="submit") Submit

        // Footer
        include includes/footer.pug
        include includes/customJS.pug
        script.
            $('.multiple-card-slider .carousel').each(function(){
                var currentCarouselId = '#' + $(this).attr('id');
                const multipleItemCarousel = document.querySelector(currentCarouselId);

                if(window.matchMedia("(min-width:576px)").matches){
                    const carousel = new bootstrap.Carousel(multipleItemCarousel, {
                        interval: false,
                        wrap: false
                    })
                    var carouselWidth = $(currentCarouselId + ' .carousel-inner')[0].scrollWidth;
                    var cardWidth = $(currentCarouselId + ' .carousel-item').width();
                    var scrollPosition = 0;    
                    $(currentCarouselId + ' .carousel-control-next').on('click', function(){
                        if(scrollPosition < (carouselWidth - (cardWidth * 4))){
                            console.log('next');
                            scrollPosition = scrollPosition + cardWidth;
                            $(currentCarouselId + ' .carousel-inner').animate({scrollLeft: scrollPosition},600);
                        }
                    });
                    $(currentCarouselId + ' .carousel-control-prev').on('click', function(){
                        if(scrollPosition > 0){
                            console.log('prev');
                            scrollPosition = scrollPosition - cardWidth;
                            $(currentCarouselId + ' .carousel-inner').animate({scrollLeft: scrollPosition},600);
                        }
                    });
                }else{
                    $(multipleItemCarousel).addClass('slide');
                }
            });

            // Function to handle the window resize
            function handleResize() {
                let reviewProductcss = "";
                if (window.innerWidth < 800) {
                    reviewProductcss = `
                        <div class="mobileWrapperUser">
                            <img class="imgUser" src="./assets/img/userWeb1.png"/>
                            <div class="rowContent">
                                <div class="detailContent">
                                    <div class="ratingWrapper">
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                        <span class="fa fa-star checked"></span>
                                    </div>
                                    <div class="userWrapper">
                                        <label> Amelia Putri </label>
                                        <span> - 07 Desember 2024 </span>
                                        <img src="./assets/img/icon/ic_shopee.png" style="width: 24px; height: 24px;"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="reviewValue"> Saya sangat senang karena dosisnya tercetak rapi di bagian depan. Saya juga sudah tes darah untuk vitamin D dan ternyata tidak masih kurang, jadi saya mengonsumsi produk ini yang juga mengandung bahan lain.</p>
                        <img class="mediaBox" src="./assets/img/media_review.png">`;
                } else {
                    reviewProductcss = `
                        <img class="imgUser" src="./assets/img/userWeb1.png"/>
                        <div class="rowContent">
                            <div class="detailContent">
                                <div class="ratingWrapper">
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                </div>
                                <div class="userWrapper">
                                    <label> Amelia Putri </label>
                                    <span> - 07 Desember 2024 </span>
                                    <img src="./assets/img/icon/ic_shopee.png" style="width: 24px; height: 24px;"/>
                                </div>
                            </div>
                            <p class="reviewValue"> Saya sangat senang karena dosisnya tercetak rapi di bagian depan. Saya juga sudah tes darah untuk vitamin D dan ternyata tidak masih kurang, jadi saya mengonsumsi produk ini yang juga mengandung bahan lain.</p>
                        </div>
                        <img class="mediaBox" src="./assets/img/media_review.png">`;
                }

                $('#dataReview1,#dataReview2,#dataReview3,#dataReview4').append(reviewProductcss);
            }

            // Attach the resize event listener
            window.addEventListener('resize', handleResize);

            // Call the function initially to set the correct class on page load
            handleResize();

        